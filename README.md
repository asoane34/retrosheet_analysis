# mlb_spread_betting
Modeling to predict run-line betting in the MLB.

The purpose of this project is to use the mlb_elo dataset created by FiveThirtyEight, team and stadium data collected from baseball-reference.com, and weather data collected from the NOAA Global Historical Climatology Network to accurately predict the final score of MLB baseball games and, more importantly, what the difference between the two teams scores will be: the run line. (Note: still in the data collection and preparation phase, modeling and deploying to follow). 

# Current Repository Contents

## scraper_team_stadium.py
This script creates a Scraper object for baseball-reference.com to collect stadium data (primarily stadium name) for each year each active MLB team, and then to collect latitude and longitude for each stadium and store this data in .json files, indexed by team code. 

## stadium_data_cleansing.ipynb
Juypter notebook reading in .json files generated by scraper_team_stadium.py, cleans data in incorrect form,
and imputes missing coordinate pairs for stadiums the scraper missed, producing a .csv file containing stadium data and stadium location for each year of each MLB team's existence. 

## noaa_weather_collection.py
This script creates a WeatherCollector object to interact with the NOAA GHCN FTP. Given a dictionary of weather station IDs indexed by location, WeatherCollector object retrieves .dly file for each station from FTP and writes each station's data to .csv file with all daily weather observations provided by each station.

## expanded_stations.py
Script calling WeatherCollector object from noaa_weather_collection.py, used when broadening search of weather stations.

## data_collection_preparation.ipynb
Jupyter notebook using stadiums dataframe to generate weather stations to collect from the NOAA FTP, processing all .csv files created, merging together all available dataframes into a final dataframe to be used for EDA and modeling. 